<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
    자바스크립트의 객체
      -> 자바의 Map하고 비슷한데
      key는 문자열만 가능함
      ex)
      { "1": 1234, "abc": "abcdasd" }
      */
      let user = {}; //빈객체로 초기화
      //다른 사람이 변경하지 못하게 하기 위해 되도록 const로 선언함.
      //객체를 상수로 선언
      //다른 객체로 덮어씌우지 않게 함.
      const user2 = {
        // 속성(key, property): 값
        name: "Jonh",
        age: 30, // 이렇게 마지막 쉼표를 넣는 걸 권장함.
      };

      //속성값 접근
      // 객체변수명.속성명
      console.log(user2.name);

      //속성 추가
      user2.isAdmin = true; // 객체.새로추가되는 키 = 값;
      user2[isAdmin] = true; // 와 같다.
      console.log(user2);

      //속성 삭제
      delete user2.age;
      console.log(user2);

      //속성값 변경
      user2.name = "Peter";
      console.log(user2);

      // 상수라서 다른 객체 대입 불가, 초기화 불가
      user2 = {}; //에러

      // 대괄호를 이용하여 객체 속성에 접근할 수 있음.
      console.log(user2["name"]);
      delete user["isAdmin"];

      let key = "likes birds";

      // user["likes birds"] = true; 와 같습니다.
      user[key] = true;

      let fruit = prompt("어떤 과일을 구매하시겠습니까?", "apple");

      let bag = {
        [fruit]: 5, // 변수 fruit에서 프로퍼티 이름을 동적으로 받아 옵니다.
      };
      // 사용자가 apple -> bag.apple, mango -> bag.mango

      function makeUser(name, age) {
        //name, age 속성이 있는 객체를 생성해서 반환
        return {
          name: name,
          age: age,
        };
      }

      //{}: 객체 생성문법
      //변수 = {..}, 객체를 생성해서 변수에 대입
      //return {..}, 객체를 생성하여 반환
      const makeUser = (name, age) => ({
        //속성명하고 값 변수명이 동일
        name, // name: name, age: age,  이 의미
        age,
      });

      let u = makeUser("John", 30);
      console.log("--makeUSer--");
      console.log(u);

      let obj = {
        for: 1,
        let: 2, // 문자열이므로 key로 사용 가능.
      };

      //in 연산자로 속성 존재여부 확인
      // "key" in object
      console.log("age" in u);

      //for(속성명 변수 in 객체 변수)
      for (let prop in u) {
        //prop: 객체의 속성명이 prop변수에 들어가면서 객체 속성 개수만큼 반복
        //탐색순서는 속성을 추가한 순서대로
        console.log(prop, ": ", u[prop]);
        console.log(`${prop}: ${u[prop]}`);
      }

      console.log(u);
      console.table(u);
      //이런 형태도 있음.
      // for(prop of ["age", "name"]) {

      // }
    </script>
  </body>
</html>
